{"ast":null,"code":"\"use client\";import{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PredictionPage(){const[files,setFiles]=useState({wave:null,distance:null,salinity:null,bathymetry:null,chlorophyll:null});const[month,setMonth]=useState(\"January\");const[status,setStatus]=useState(\"\");const[downloadUrl,setDownloadUrl]=useState(\"\");const handleFileChange=(e,key)=>{const file=e.target.files[0];if(file&&!file.name.endsWith(\".tif\")&&!file.name.endsWith(\".tiff\")){alert(\"Only TIFF files are allowed.\");return;}setFiles(prev=>({...prev,[key]:file}));};const handleSubmit=async()=>{const allSelected=Object.values(files).every(f=>f!==null);if(!allSelected){alert(\"Please upload all 5 required TIFF files.\");return;}const formData=new FormData();Object.entries(files).forEach(_ref=>{let[key,file]=_ref;formData.append(\"files[]\",file);});formData.append(\"month\",month);setStatus(\"Uploading and processing...\");try{const response=await fetch(\"http://localhost:5000/upload\",{method:\"POST\",body:formData});if(!response.ok){const errorData=await response.json();setStatus(\"Error: \"+errorData.error);return;}const blob=await response.blob();const url=window.URL.createObjectURL(blob);setDownloadUrl(url);setStatus(\"Success! Download ready.\");}catch(error){setStatus(\"Server error: \"+error.message);}};const handleDownload=()=>{const a=document.createElement(\"a\");a.href=downloadUrl;a.download=\"predicted_suitability.tif\";document.body.appendChild(a);a.click();document.body.removeChild(a);};return/*#__PURE__*/_jsx(\"div\",{className:\"prediction-page intro-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Wave Energy Prediction\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Wave Energy Prediction Input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"month-dropdown\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Month:\"}),/*#__PURE__*/_jsx(\"select\",{value:month,onChange:e=>setMonth(e.target.value),children:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"].map(m=>/*#__PURE__*/_jsx(\"option\",{value:m,children:m},m))})]}),[\"wave\",\"distance\",\"salinity\",\"bathymetry\",\"chlorophyll\"].map((key,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"file-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:`${index+1}. ${key.charAt(0).toUpperCase()+key.slice(1)}:`}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".tif,.tiff\",onChange:e=>handleFileChange(e,key)}),files[key]&&/*#__PURE__*/_jsx(\"span\",{className:\"file-check\",children:\"\\u2713\"})]})]},index)),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"btn-primary\",children:\"Process Files\"}),status&&/*#__PURE__*/_jsx(\"div\",{className:`status-message ${status.includes(\"Success\")?\"status-success\":\"status-error\"}`,children:status}),downloadUrl&&/*#__PURE__*/_jsx(\"button\",{onClick:handleDownload,className:\"btn-download\",children:\"Download Predicted TIFF\"})]})]})]})});}export default PredictionPage;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","PredictionPage","files","setFiles","wave","distance","salinity","bathymetry","chlorophyll","month","setMonth","status","setStatus","downloadUrl","setDownloadUrl","handleFileChange","e","key","file","target","name","endsWith","alert","prev","handleSubmit","allSelected","Object","values","every","f","formData","FormData","entries","forEach","_ref","append","response","fetch","method","body","ok","errorData","json","error","blob","url","window","URL","createObjectURL","message","handleDownload","a","document","createElement","href","download","appendChild","click","removeChild","className","children","value","onChange","map","m","index","charAt","toUpperCase","slice","type","accept","onClick","includes"],"sources":["D:/project_code/frontend/src/pages/PredictionPage.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\nfunction PredictionPage() {\n  const [files, setFiles] = useState({\n    wave: null,\n    distance: null,\n    salinity: null,\n    bathymetry: null,\n    chlorophyll: null,\n  });\n\n  const [month, setMonth] = useState(\"January\");\n  const [status, setStatus] = useState(\"\");\n  const [downloadUrl, setDownloadUrl] = useState(\"\");\n\n  const handleFileChange = (e, key) => {\n    const file = e.target.files[0];\n    if (file && !file.name.endsWith(\".tif\") && !file.name.endsWith(\".tiff\")) {\n      alert(\"Only TIFF files are allowed.\");\n      return;\n    }\n\n    setFiles((prev) => ({\n      ...prev,\n      [key]: file,\n    }));\n  };\n\n  const handleSubmit = async () => {\n    const allSelected = Object.values(files).every((f) => f !== null);\n    if (!allSelected) {\n      alert(\"Please upload all 5 required TIFF files.\");\n      return;\n    }\n\n    const formData = new FormData();\n    Object.entries(files).forEach(([key, file]) => {\n      formData.append(\"files[]\", file);\n    });\n    formData.append(\"month\", month);\n\n    setStatus(\"Uploading and processing...\");\n    try {\n      const response = await fetch(\"http://localhost:5000/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        setStatus(\"Error: \" + errorData.error);\n        return;\n      }\n\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      setDownloadUrl(url);\n      setStatus(\"Success! Download ready.\");\n    } catch (error) {\n      setStatus(\"Server error: \" + error.message);\n    }\n  };\n\n  const handleDownload = () => {\n    const a = document.createElement(\"a\");\n    a.href = downloadUrl;\n    a.download = \"predicted_suitability.tif\";\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  };\n\n  return (\n    <div className=\"prediction-page intro-page\">\n      <div className=\"container\">\n        <h1 className=\"page-title\">Wave Energy Prediction</h1>\n\n        <div className=\"card\">\n          <h2>Wave Energy Prediction Input</h2>\n\n          <div className=\"month-dropdown\">\n            <label>Select Month:</label>\n            <select value={month} onChange={(e) => setMonth(e.target.value)}>\n              {[\n                \"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n                \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n              ].map((m) => (\n                <option key={m} value={m}>\n                  {m}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {[\"wave\", \"distance\", \"salinity\", \"bathymetry\", \"chlorophyll\"].map((key, index) => (\n            <div key={index} className=\"file-input-group\">\n              <label>{`${index + 1}. ${key.charAt(0).toUpperCase() + key.slice(1)}:`}</label>\n              <div className=\"file-input-container\">\n                <input\n                  type=\"file\"\n                  accept=\".tif,.tiff\"\n                  onChange={(e) => handleFileChange(e, key)}\n                />\n                {files[key] && <span className=\"file-check\">âœ“</span>}\n              </div>\n            </div>\n          ))}\n\n          <div>\n            <button onClick={handleSubmit} className=\"btn-primary\">\n              Process Files\n            </button>\n\n            {status && (\n              <div className={`status-message ${status.includes(\"Success\") ? \"status-success\" : \"status-error\"}`}>\n                {status}\n              </div>\n            )}\n\n            {downloadUrl && (\n              <button onClick={handleDownload} className=\"btn-download\">\n                Download Predicted TIFF\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PredictionPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}